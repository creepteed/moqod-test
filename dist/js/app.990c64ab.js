(function(e){function t(t){for(var a,i,u=t[0],o=t[1],s=t[2],d=0,f=[];d<u.length;d++)i=u[d],r[i]&&f.push(r[i][0]),r[i]=0;for(a in o)Object.prototype.hasOwnProperty.call(o,a)&&(e[a]=o[a]);l&&l(t);while(f.length)f.shift()();return c.push.apply(c,s||[]),n()}function n(){for(var e,t=0;t<c.length;t++){for(var n=c[t],a=!0,u=1;u<n.length;u++){var o=n[u];0!==r[o]&&(a=!1)}a&&(c.splice(t--,1),e=i(i.s=n[0]))}return e}var a={},r={app:0},c=[];function i(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=a,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)i.d(n,a,function(t){return e[t]}.bind(null,a));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var u=window["webpackJsonp"]=window["webpackJsonp"]||[],o=u.push.bind(u);u.push=t,u=u.slice();for(var s=0;s<u.length;s++)t(u[s]);var l=o;c.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"32ca":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("cadf"),n("551c"),n("097d");var a=n("2b0e"),r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("Table")],1)},c=[],i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"table"},[n("span",{staticClass:"table__title"},[e._v("current "+e._s(e.base_currency)+" exchange course")]),n("div",{staticClass:"table__button-wrapper"},[e.exchange_data?n("div",{staticClass:"table__button scale-in-center",class:{disabled:e.exchange_data&&Object.keys(e.exchange_data).includes("CAD")},on:{click:function(t){e.addCurrencyHandler(t,"CAD")}}},[e._v("Add CAD\n        ")]):e._e(),e.exchange_data?n("div",{staticClass:"table__button scale-in-center",class:{disabled:Object.keys(e.exchange_data).includes("JPY")},on:{click:function(t){e.addCurrencyHandler(t,"JPY")}}},[e._v("Add JPY\n        ")]):e._e()]),e.exchange_data?n("div",{staticClass:"table__container scale-in-center"},[n("transition-group",{attrs:{name:"slide-fade"}},e._l(e.exchange_data,function(t,a){return n("CurrencyRow",{key:t,attrs:{currency:a,rate:t}},[e._v(e._s(t)+"\n            ")])}),1)],1):e._e()])},u=[],o=n("cebc"),s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"curr-row"},[n("span",{staticClass:"curr-row__title",class:{highlighted:e.highlight}},[e._v(e._s(e.currency)+": ")]),n("span",{staticClass:"curr-row__value",class:{highlighted:e.highlight}},[e._v(e._s(e.rate.toFixed(5))+" [ "+e._s((1/e.rate).toFixed(2))+" "+e._s(e.base_currency)+" ]")]),n("div",{staticClass:"curr-row__update",on:{click:e.updateHandler}})])},l=[],d=n("2f62"),f={name:"CurrencyRow",props:["currency","rate"],computed:Object(o["a"])({},Object(d["b"])(["base_currency"])),data:function(){return{highlight:!1}},methods:{updateHandler:function(){this.$store.dispatch("updateCurrency",{currency:this.currency,pointer:this,highlight_timeout:200})}}},h=f,p=(n("fdf4"),n("2877")),_=Object(p["a"])(h,s,l,!1,null,"f4701ad8",null),b=_.exports,g={name:"Table",components:{CurrencyRow:b},computed:Object(o["a"])({},Object(d["b"])(["base_currency","exchange_data"])),methods:{addCurrencyHandler:function(e,t){e.preventDefault(),e.stopPropagation(),this.$store.dispatch("addCurrency",t)}}},y=g,v=(n("fd5e"),Object(p["a"])(y,i,u,!1,null,"59f0319b",null)),m=v.exports,x={name:"app",components:{Table:m},mounted:function(){this.$store.dispatch("fetchInitialData")}},C=x,w=(n("5c0b"),Object(p["a"])(C,r,c,!1,null,null,null)),O=w.exports,j=n("bc3a"),R=n.n(j);a["a"].use(d["a"]);var P=new d["a"].Store({state:{exchange_data:null,base_url:"https://api.exchangeratesapi.io/latest?base=",base_currency:"RUB"},mutations:{setRate:function(e,t){e.exchange_data[t.currency]=t.rate,t.point_update?t.point_update():e.exchange_data=Object(o["a"])({},e.exchange_data)}},actions:{updateCurrency:function(e,t){var n=e.state,a=e.commit;R.a.get("".concat(n.base_url).concat(n.base_currency)).then(function(e){a("setRate",{currency:t.currency,rate:e.data.rates[t.currency]}),t.pointer&&(t.pointer.highlight=!0,setTimeout(function(){t.pointer.highlight=!1},t.highlight_timeout))}).catch(function(e){return console.log(e)})},addCurrency:function(e,t){var n=e.state,a=e.commit;R.a.get("".concat(n.base_url).concat(n.base_currency)).then(function(e){a("setRate",{currency:t,rate:e.data.rates[t]})}).catch(function(e){return console.log(e)})},fetchInitialData:function(e){var t=e.state,n=e.commit;R.a.get("".concat(t.base_url).concat(t.base_currency)).then(function(e){t.exchange_data={};var a=e.data.rates;n("setRate",{currency:"USD",rate:a.USD}),n("setRate",{currency:"EUR",rate:a.EUR})}).catch(function(e){return console.log(e)})}}});a["a"].config.productionTip=!1,new a["a"]({store:P,render:function(e){return e(O)}}).$mount("#app")},"5c0b":function(e,t,n){"use strict";var a=n("5e27"),r=n.n(a);r.a},"5e27":function(e,t,n){},bc52:function(e,t,n){},fd5e:function(e,t,n){"use strict";var a=n("32ca"),r=n.n(a);r.a},fdf4:function(e,t,n){"use strict";var a=n("bc52"),r=n.n(a);r.a}});
//# sourceMappingURL=app.990c64ab.js.map